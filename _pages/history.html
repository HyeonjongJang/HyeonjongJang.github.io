---
layout: archive
title: "Career History"
permalink: /history/
author_profile: false
---

{% include base_path %}

<style>
.timeline-wrapper { max-width: 1100px; margin: 0 auto; padding: 16px 0 48px 0; }
.timeline-header { margin-bottom: 18px; color: #444; font-size: 0.95rem; }

/* Vertical timeline */
.timeline { position: relative; margin: 24px 0 32px 0; padding: 16px 0; }
.timeline::before {
  content: ""; position: absolute; left: 50%; top: 0; transform: translateX(-50%);
  width: 4px; height: 100%; background: linear-gradient(180deg,#e8eef8 0%,#dfe7f5 100%); border-radius: 4px;
}
.timeline-item { position: relative; width: 50%; padding: 16px 32px; box-sizing: border-box; }
.timeline-item.left  { left: 0;   text-align: right; }
.timeline-item.right { left: 50%; text-align: left;  }

.timeline-card {
  display: inline-flex; align-items: center; gap: 12px; padding: 12px 14px;
  border-radius: 12px; background: #fff; box-shadow: 0 2px 10px rgba(20,40,90,.08);
  border: 1px solid #eef2fb; cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.timeline-item.left .timeline-card { flex-direction: row-reverse; }
.timeline-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(20,40,90,.12); border-color: #d9e3ff; }
.timeline-card.active { border-color: #4c7af2; box-shadow: 0 8px 24px rgba(76,122,242,.18); }

.timeline-dot {
  position: absolute; top: 50%; transform: translate(-50%,-50%); left: 50%;
  width: 18px; height: 18px; background:#fff; border:4px solid #4c7af2; border-radius:50%;
  box-shadow: 0 0 0 4px #eef2ff;
}

.timeline-avatar { width: 56px; height: 56px; border-radius: 50%; overflow: hidden; border: 3px solid #e6ebfb; flex: 0 0 56px; }
.timeline-avatar img { width: 100%; height: 100%; object-fit: cover; }
.timeline-meta { font-size: .82rem; color: #6a7693; white-space: nowrap; }
.timeline-title { font-weight: 700; color: #223055; line-height: 1.25; }
.timeline-place { font-size: .86rem; color: #4a597a; }

/* Detail panel */
.detail-panel { margin-top: 8px; padding: 22px 22px 26px 22px; border-radius: 14px; background: #fafcff;
  border: 1px solid #ecf2ff; box-shadow: 0 2px 14px rgba(18,46,120,.06); }
.detail-head { display:flex; align-items:center; gap:18px; margin-bottom:12px; }
.detail-head .thumb { width:84px; height:84px; border-radius:12px; overflow:hidden; border:3px solid #e6ebfb; flex:0 0 84px; }
.detail-head .thumb img { width:100%; height:100%; object-fit:cover; }
.detail-head .info h2 { margin:0 0 4px 0; color:#223055; }
.detail-head .info .when-where { color:#5b688a; font-size:.92rem; }
.detail-content { color:#36425e; line-height:1.75; }
.detail-actions a.news-link { display:inline-block; margin-top:14px; padding:9px 14px; background:#4c7af2;
  color:#fff; text-decoration:none; border-radius:8px; transition:background .15s ease; }
.detail-actions a.news-link:hover { background:#3e68d6; }

/* Empty state */
.notice--warning { background:#fff7e6; color:#8a5a00; border:1px solid #ffd699; padding:12px 14px; border-radius:8px; }

/* Responsive */
@media (max-width: 900px) {
  .timeline::before { left: 8px; transform: none; }
  .timeline-item { width: 100%; padding: 14px 16px 14px 42px; }
  .timeline-item.left, .timeline-item.right { left: 0; text-align: left; }
  .timeline-card, .timeline-item.left .timeline-card { flex-direction: row; }
  .timeline-dot { left: 8px; transform: translateY(-50%); }
}
</style>

<div class="timeline-wrapper">
  <div class="timeline-header">아이콘을 클릭하면 하단 상세 패널이 갱신됩니다.</div>

  {% assign sorted = site.history | sort: "date" %}
  {% if sorted == empty %}
    <div class="notice--warning">
      <strong>No history items found.</strong>
      Create files under <code>_history/</code> (e.g., <code>_history/2019-03-first-role.md</code>).
    </div>
  {% endif %}

  <!-- Vertical timeline -->
  <div class="timeline" id="timeline">
    {% for item in sorted %}
      {% assign side = forloop.index0 | modulo: 2 %}
      <div class="timeline-item {% if side == 0 %}left{% else %}right{% endif %}">
        <span class="timeline-dot"></span>

        <button
          type="button"
          class="timeline-card"
          data-target="detail-{{ forloop.index }}"
          aria-controls="detail-panel"
          aria-expanded="false"
          onclick="selectHistory(this)"
        >
          <div class="timeline-avatar">
            {% if item.image %}
              <img src="{{ item.image }}" alt="{{ item.title }}">
            {% else %}
              <img src="/images/default-history.png" alt="{{ item.title }}">
            {% endif %}
          </div>
          <div class="timeline-text">
            <div class="timeline-meta">
              {{ item.date | date: "%b %Y" }}{% if item.end_date %} – {{ item.end_date | date: "%b %Y" }}{% else %} – Present{% endif %}
            </div>
            <div class="timeline-title">{{ item.title }}</div>
            {% if item.location %}<div class="timeline-place">{{ item.location }}</div>{% endif %}
          </div>
        </button>
      </div>
    {% endfor %}
  </div>

  <!-- Visible detail panel (target to update) -->
  <section class="detail-panel" id="detail-panel" aria-live="polite"></section>

  <!-- Hidden store: keep detail fragments OUTSIDE the panel so they don't get destroyed -->
  <div id="detail-store" aria-hidden="true" style="display:none">
    {% for item in sorted %}
      <div id="detail-{{ forloop.index }}">
        <div class="detail-head">
          <div class="thumb">
            {% if item.image %}
              <img src="{{ item.image }}" alt="{{ item.title }}">
            {% else %}
              <img src="/images/default-history.png" alt="{{ item.title }}">
            {% endif %}
          </div>
          <div class="info">
            <h2>{{ item.title }}</h2>
            <div class="when-where">
              <strong>
                {{ item.date | date: "%B %Y" }}
                {% if item.end_date %} – {{ item.end_date | date: "%B %Y" }}{% else %} – Present{% endif %}
              </strong>
              {% if item.location %} · {{ item.location }}{% endif %}
            </div>
          </div>
        </div>

        <div class="detail-content">
          {% if item.excerpt %}<p><em>{{ item.excerpt }}</em></p>{% endif %}
          {{ item.content }}
        </div>

        {% if item.link %}
          <div class="detail-actions">
            <a class="news-link" href="{{ item.link }}" target="_blank" rel="noopener">Related News / Link</a>
          </div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</div>

<script>
(function() {
  function swapDetailFromStore(targetId) {
    const store = document.getElementById('detail-store');
    const panel = document.getElementById('detail-panel');
    if (!store || !panel) return;

    const frag = store.querySelector('#' + CSS.escape(targetId));
    if (!frag) return;

    panel.innerHTML = frag.innerHTML;

    // 모바일에서 상세 패널로 스크롤
    if (window.matchMedia('(max-width: 900px)').matches) {
      panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  window.selectHistory = function(btn) {
    document.querySelectorAll('.timeline-card').forEach(el => {
      el.classList.remove('active');
      el.setAttribute('aria-expanded', 'false');
    });
    btn.classList.add('active');
    btn.setAttribute('aria-expanded', 'true');

    const target = btn.getAttribute('data-target');
    swapDetailFromStore(target);
  };

  // 첫 아이템 자동 선택
  window.addEventListener('DOMContentLoaded', () => {
    const first = document.querySelector('.timeline-card');
    if (first) first.click();
  });

  // 키보드 접근성
  document.addEventListener('keydown', (e) => {
    if (!e.target.classList.contains('timeline-card')) return;
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      e.target.click();
    }
  });
})();
</script>
